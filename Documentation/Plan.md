# План автоматизации тестирования комплексного сервиса покупки туров
## Перечень автоматизируемых сценариев:
### Исходные данные:
- валидный номер карты - 4444 4444 4444 4441;
- невалидный номер карты - 4444 4444 4444 4442.
### Примечание:
- ссылки перехода на станицу покупки тура **доступны только при запущенной SUT**.
### Позитивные сценарии ```Happy path```:


1. **Оплата картой:**

    - **Открыть** [страницу покупки тура](https://localhost:8080/) -> кликнуть кнопку "Купить" (оплата картой) -> в появившихся полях ввести валидные данные -> кликнуть кнопку "Продолжить";  
      `Результат:`
        - данные успешно отправлены и могут быть просмотрены в соответствующей базе данных;
        - появится всплывающее окно об одобрении операции банком.


1. **Покупка в кредит:**
    - **Открыть** [страницу покупки тура](https://localhost:8080/) -> кликнуть кнопку "Купить в кредит" -> в появившихся полях ввести валидные данные -> кликнуть кнопку "Продолжить";  
      `Результат:`
        - данные успешно отправлены и могут быть просмотрены в соответствующей базе данных;
        - появится всплывающее окно об одобрении операции банком.
### Негативные сценарии ```Unhappy path```:
1. **Пустая форма:**
    - **Открыть** [страницу покупки тура](https://localhost:8080/) -> кликнуть кнопку "Купить" (оплата картой) -> кликнуть кнопку "Продолжить";  
      `Результат:`
        - данные не отправлены;
        - под полем "Номер карты" появится сообщение `Неверный формат`;
        - под полем "Месяц" появится сообщение `Неверный формат`;
        - под полем "Год" появится сообщение `Неверный формат`;
        - под полем "Владелец" появится сообщение `Поле обязательно для заполнения`;
        - под полем "CVC/CVV" появится сообщение `Неверный формат`.
1. **Поле "Номер карты":**
    - **Открыть** [страницу покупки тура](https://localhost:8080/) -> кликнуть кнопку "Купить" (оплата картой) -> поле "Номер карты" **оставить пустым**, остальные поля заполнить валидными данными -> кликнуть кнопку "Продолжить";  
      `Результат:`
        - данные не отправлены;
        - под полем "Номер карты" появится сообщение `Неверный формат`.
    - **Открыть** [страницу покупки тура](https://localhost:8080/) -> кликнуть кнопку "Купить" (оплата картой) -> в поле "Номер карты" **ввести не полный номер** (4444 4444 4444 444), остальные поля заполнить валидными данными -> кликнуть кнопку "Продолжить";  
      `Результат:`
        - данные не отправлены;
        - под полем "Номер карты" появится сообщение `Неверный формат`.
    - **Открыть** [страницу покупки тура](https://localhost:8080/) -> кликнуть кнопку "Купить" (оплата картой) -> в поле "Номер карты" **ввести не валидный номер**, остальные поля заполнить валидными данными -> кликнуть кнопку "Продолжить";  
      `Результат:`
        - данные успешно отправлены и могут быть просмотрены в соответствующей базе данных;
        - появится всплывающее окно об отказе в проведении операции банком.
1. **Поле "Месяц":**
    - **Открыть** [страницу покупки тура](https://localhost:8080/) -> кликнуть кнопку "Купить" (оплата картой) -> поле "Месяц" **оставить пустым**, остальные поля заполнить валидными данными -> кликнуть кнопку "Продолжить";  
      `Результат:`
        - данные не отправлены;
        - под полем "Месяц" появится сообщение `Неверный формат`.
    - **Открыть** [страницу покупки тура](https://localhost:8080/) -> кликнуть кнопку "Купить" (оплата картой) -> в поле "Месяц" **ввести не валидный месяц** (в пределах 01-12), остальные поля заполнить валидными данными -> кликнуть кнопку "Продолжить";  
      `Результат:`
        - данные не отправлены;
        - под полем "Месяц" появится сообщение `Неверно указан срок действия карты`.
    - **Открыть** [страницу покупки тура](https://localhost:8080/) -> кликнуть кнопку "Купить" (оплата картой) -> в поле "Месяц" **ввести не валидный месяц** (нижнее граничное значение 00), остальные поля заполнить валидными данными -> кликнуть кнопку "Продолжить";  
      `Результат:`
        - данные не отправлены;
        - под полем "Месяц" появится сообщение `Неверно указан срок действия карты`.
    - **Открыть** [страницу покупки тура](https://localhost:8080/) -> кликнуть кнопку "Купить" (оплата картой) -> в поле "Месяц" **ввести не валидный месяц** (верхнее граничное значение 13), остальные поля заполнить валидными данными -> кликнуть кнопку "Продолжить";  
      `Результат:`
        - данные не отправлены;
        - под полем "Месяц" появится сообщение `Неверно указан срок действия карты`.
1. **Поле "Год":**
    - **Открыть** [страницу покупки тура](https://localhost:8080/) -> кликнуть кнопку "Купить" (оплата картой) -> поле "Год" **оставить пустым**, остальные поля заполнить валидными данными -> кликнуть кнопку "Продолжить";  
      `Результат:`
        - данные не отправлены;
        - под полем "Год" появится сообщение `Неверный формат`.
    - **Открыть** [страницу покупки тура](https://localhost:8080/) -> кликнуть кнопку "Купить" (оплата картой) -> в поле "Год" **ввести не валидный год** (текущий год - 1), остальные поля заполнить валидными данными -> кликнуть кнопку "Продолжить";  
      `Результат:`
        - данные не отправлены;
        - под полем "Год" появится сообщение `Истёк срок действия карты`.
    - **Открыть** [страницу покупки тура](https://localhost:8080/) -> кликнуть кнопку "Купить" (оплата картой) -> в поле "Год" **ввести не валидный год** (текущий год + 6), остальные поля заполнить валидными данными -> кликнуть кнопку "Продолжить";  
      `Результат:`
        - данные не отправлены;
        - под полем "Год" появится сообщение `Неверно указан срок действия карты`.
1. **Поле "Владелец":**
    - **Открыть** [страницу покупки тура](https://localhost:8080/) -> кликнуть кнопку "Купить" (оплата картой) -> поле "Владелец" **оставить пустым**, остальные поля заполнить валидными данными -> кликнуть кнопку "Продолжить";  
      `Результат:`
        - данные не отправлены;
        - под полем "Владелец" появится сообщение `Поле обязательно для заполнения`.
    - **Открыть** [страницу покупки тура](https://localhost:8080/) -> кликнуть кнопку "Купить" (оплата картой) -> в поле "Владелец" **ввести " "**(пробел), остальные поля заполнить валидными данными -> кликнуть кнопку "Продолжить";  
      `Результат:`
        - данные не отправлены;
        - под полем "Владелец" появится сообщение `Поле обязательно для заполнения`.
    - **Открыть** [страницу покупки тура](https://localhost:8080/) -> кликнуть кнопку "Купить" (оплата картой) -> в поле "Владелец" **ввести #&**(два любых спецсимвола), остальные поля заполнить валидными данными -> кликнуть кнопку "Продолжить";  
      `Результат:`
        - данные не отправлены;
        - под полем "Владелец" появится сообщение `Неверный формат имени владельца`.
    - **Открыть** [страницу покупки тура](https://localhost:8080/) -> кликнуть кнопку "Купить" (оплата картой) -> в поле "Владелец" **ввести двузначное число**(10-99), остальные поля заполнить валидными данными -> кликнуть кнопку "Продолжить";  
      `Результат:`
        - данные не отправлены;
        - под полем "Владелец" появится сообщение `Неверный формат имени владельца`.
1. **Поле "CVC/CVV":**
    - **Открыть** [страницу покупки тура](https://localhost:8080/) -> кликнуть кнопку "Купить" (оплата картой) -> поле "CVC/CVV" **оставить пустым**, остальные поля заполнить валидными данными -> кликнуть кнопку "Продолжить";  
      `Результат:`
        - данные не отправлены;
        - под полем "CVC/CVV" появится сообщение `Неверный формат`.
    - **Открыть** [страницу покупки тура](https://localhost:8080/) -> кликнуть кнопку "Купить" (оплата картой) -> в поле "CVC/CVV" **ввести двузначное число**(10-99), остальные поля заполнить валидными данными -> кликнуть кнопку "Продолжить";  
      `Результат:`
        - данные не отправлены;
        - под полем "CVC/CVV" появится сообщение `Неверный формат`.
- **`Аналогичные негативные сценарии для покупки в кредит.`**
## Перечень используемых инструментов с обоснованием выбора:
| **Инструмент**| **Обоснование выбора** |
|:---: | :---: |
|JDK 11 |т.к. будет использоваться Java - надежность и совместимость |
|IntelliJ IDEA| Удобная среда подготовки авто-тестов|
|Gradle| Инструмент управления зависимостями|
|DBeaver| Для просмотра базы данных|
|JUnit 5|  Широта возможностей и стабильность|
|Selenide| Фреймворк для процесса автоматизированного тестирования ПО. Позволяет комфортно создавать програмный код при тестировании веб-интерфейса|
|MySQL connector Java, PostgreSQL и Commons DBUtils| Доступ к базе данных из кода авто-тестов|
|Faker| Генерация данных искусственного наполнителя для приложения и его потребностей в тестировании|
|Github|  Хранилище SUT и авто-тестов;
|Allure| Наглядная визуализация создания отчетов о выполнении авто-тестов;
|Allure-Selenide|Интеграция одного инструмента с другим|
## Перечень и описание возможных рисков при автоматизации:
<details>
<summary>
Своеобразная настройка SUT при запуске
</summary>
заявлена поддержка двух СУБД
</details>

<details>
<summary>
Неверный выбор инструментов для тестирования
</summary>
При использовании какого-то инструмента с малоизвестным функционалом можно попасть в зависимость от технологий и потерять значительное количество времени.
</details>

<details>
<summary>
Необходимость согласований.
</summary>
Если речь идёт о многих аспектах, особенно при протяжённой цепочке согласований. Отсутствие как таковой документации на приложение. Возникнут затруднения в процессе работы над проектом, что будет проявляться всё сильнее в долгосрочной перспективе.
</details>

<details>
<summary>
Особые запросы для автоматизации.
</summary>
В случае строгих требований к безопасности: например, выполнения тестов в CI с использованием VPN.
</details>

<details>
<summary>
Зависимость авто-тестов от текущей реализации веб-элементов
</summary>
даже не значительное их изменение может привести к падению авто-тестов
</details>

<details>
<summary>
Отсутствие проверки графической составляющей авто-тестами
</summary>>
состояние верстки при тех или иных действиях посетителя, комфортна ли выбранная цветовая схема оформления и тд.
</details>


## Интервальная оценка с учётом рисков (в часах):
- С учётом вышеназванных рисков на автоматизацию требуется ориентировочно, 90 рабочих часов

## План сдачи работ:

- [ ] Подготовка к проведению тестирования (запуск SUT, подготовка плана автоматизации) - 24 часов
- [ ] Написание и прогон авто-тестов - 40 часов;
- [ ] Составление ```Issue``` - 8 часов;
- [ ] Оформление отчёта по итогам тестирования - 8 часов;
- [ ] Оформление отчёта по итогам автоматизации - 10 часов.